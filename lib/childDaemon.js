var _0x1ca7=['poolId','stringify','2.0','getblocktemplate','poolAddress','waterfall','jsonHttpRequest','host','port','%s\x20error\x20from\x20daemon','coin','result','status','hasOwnProperty','block_header','hash','toString','info','%s\x20found\x20new\x20hash\x20%s','error','%s\x20bad\x20reponse\x20from\x20daemon','%s\x20Error\x20polling\x20getblocktemplate\x20%j','send','ChildBlockTemplate','poolServer','blockRefreshInterval','./apiInterfaces.js','wallet','api','childDaemon','./exceptionWriter.js','childPools','env'];(function(_0x1c6321,_0x448061){var _0x23afcc=function(_0x2a8031){while(--_0x2a8031){_0x1c6321['push'](_0x1c6321['shift']());}};_0x23afcc(++_0x448061);}(_0x1ca7,0x1e8));var _0x46c7=function(_0x176581,_0x19734b){_0x176581=_0x176581-0x0;var _0x4e770a=_0x1ca7[_0x176581];return _0x4e770a;};let async=require('async');let apiInterfaces=require(_0x46c7('0x0'))(config['daemon'],config[_0x46c7('0x1')],config[_0x46c7('0x2')]);let lastHash;let POOL_NONCE_SIZE=0x10+0x1;let logSystem=_0x46c7('0x3');require(_0x46c7('0x4'))(logSystem);let pool=config[_0x46c7('0x5')][process[_0x46c7('0x6')][_0x46c7('0x7')]];let blockData=JSON[_0x46c7('0x8')]({'id':'0','jsonrpc':_0x46c7('0x9'),'method':'getlastblockheader','params':{}});let templateData=JSON[_0x46c7('0x8')]({'id':'0','jsonrpc':_0x46c7('0x9'),'method':_0x46c7('0xa'),'params':{'reserve_size':POOL_NONCE_SIZE,'wallet_address':pool[_0x46c7('0xb')]}});function runInterval(){async[_0x46c7('0xc')]([function(_0x27e981){apiInterfaces[_0x46c7('0xd')](pool[_0x46c7('0x3')][_0x46c7('0xe')],pool[_0x46c7('0x3')][_0x46c7('0xf')],blockData,function(_0x1da56a,_0xe81cfe){if(_0x1da56a){log('error',logSystem,_0x46c7('0x10'),[pool[_0x46c7('0x11')]]);setTimeout(runInterval,0xbb8);return;}if(_0xe81cfe&&_0xe81cfe[_0x46c7('0x12')]&&_0xe81cfe[_0x46c7('0x12')][_0x46c7('0x13')]==='OK'&&_0xe81cfe['result'][_0x46c7('0x14')](_0x46c7('0x15'))){let _0x2ab693=_0xe81cfe[_0x46c7('0x12')][_0x46c7('0x15')][_0x46c7('0x16')][_0x46c7('0x17')]('hex');if(!lastHash||lastHash!==_0x2ab693){lastHash=_0x2ab693;log(_0x46c7('0x18'),logSystem,_0x46c7('0x19'),[pool[_0x46c7('0x11')],_0x2ab693]);_0x27e981(null,!![]);return;}else{_0x27e981(!![]);return;}}else{log(_0x46c7('0x1a'),logSystem,_0x46c7('0x1b'),[pool['coin']]);setTimeout(runInterval,0xbb8);return;}});},function(_0x11f5a4,_0x348b9c){apiInterfaces[_0x46c7('0xd')](pool[_0x46c7('0x3')][_0x46c7('0xe')],pool['childDaemon'][_0x46c7('0xf')],templateData,function(_0x554dc7,_0x36ea01){if(_0x554dc7){log(_0x46c7('0x1a'),logSystem,_0x46c7('0x1c'),[pool['coin'],_0x554dc7]);_0x348b9c(null);return;}process[_0x46c7('0x1d')]({'type':_0x46c7('0x1e'),'block':_0x36ea01['result'],'poolIndex':process[_0x46c7('0x6')][_0x46c7('0x7')]});_0x348b9c(null);});}],function(_0x1f9f3c){if(_0x1f9f3c){}setTimeout(function(){runInterval();},config[_0x46c7('0x1f')][_0x46c7('0x20')]);});}runInterval();
